{
    "name": "Snowflake development tools",
    "id": "snowflake",
    "version": "1.0.3",
    "description": "Installs Snowflake development tools.",
    "options": {
      "installSnowSQL": {
        "type": "boolean",
        "default": true,
        "description": "Installs the SnowSQL CLI."
      },
      "snowSQLVersion": {
        "type": "string",
        "default": "1.3.1",
        "description": "SnowSQL version"
      },
      "installSnowflakeCLI": {
        "type": "boolean",
        "default": true,
        "description": "Installs the Snowflake CLI."
      }      
    },

    /*
     * Setting up a fixed port number for browser based authentication for
     * corporate SAML SSO.
     *
     * Note: The snowsql uses a random port and localhost as the hostname
     *       to perform the browser-based authentication. As this port needs to
     *       be forwarded, it was fixed to be 53154, a random port number.
     *       If you run into port collissions, you may need to update it.
     */
    "forwardPorts": [53154, 53154],   
    "containerEnv": {
        "SF_AUTH_SOCKET_PORT": "53154",
        "SF_AUTH_SOCKET_REUSEPORT": "true"
    },
    "customizations": {
        "vscode": {
          "extensions": [
          ]
        }
    },
    "installsAfter": [
        "ghcr.io/devcontainers/features/common-utils"
    ]
}
